[gd_scene load_steps=13 format=3 uid="uid://ddl2gnobsrxta"]

[ext_resource type="Material" uid="uid://c5pmgln4fm1t3" path="res://Materials/Maps/Prototype/PrototypeMaterial.tres" id="1_a4krk"]
[ext_resource type="Script" uid="uid://ckkdwopyhoc1e" path="res://Scripts/Director/director.gd" id="1_m1chm"]
[ext_resource type="PackedScene" uid="uid://bsybk1mgogfkb" path="res://Scenes/Entities/Players/BasePlayer/base_player.tscn" id="1_txh0p"]
[ext_resource type="Texture2D" uid="uid://dlhijvrlnidog" path="res://Texures/Maps/Prototype/sky_16_2k.png" id="2_5v4k3"]
[ext_resource type="PackedScene" uid="uid://c763kk01mqd33" path="res://Scenes/Entities/Enemies/Rot/rot.tscn" id="4_m1chm"]
[ext_resource type="PackedScene" uid="uid://chat8tgedk7ji" path="res://Scenes/Entities/Enemies/Rot/enemy_spawn_point.tscn" id="6_1lnse"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_m1chm"]
panorama = ExtResource("2_5v4k3")

[sub_resource type="Sky" id="Sky_ggkai"]
sky_material = SubResource("PanoramaSkyMaterial_m1chm")

[sub_resource type="Environment" id="Environment_41slu"]
background_mode = 2
sky = SubResource("Sky_ggkai")
ambient_light_source = 3
ambient_light_energy = 1.6
reflected_light_source = 2
ssr_enabled = true
ssao_enabled = true
ssao_radius = 1.73
ssao_intensity = 2.91
ssao_detail = 0.65
ssao_horizon = 0.11
ssil_enabled = true
ssil_intensity = 1.71
sdfgi_enabled = true
sdfgi_energy = 1.18
glow_enabled = true
glow_normalized = true
glow_bloom = 0.5
glow_hdr_threshold = 1.42
glow_hdr_scale = 2.05
glow_hdr_luminance_cap = 2.75
volumetric_fog_enabled = true
volumetric_fog_density = 0.0112
volumetric_fog_albedo = Color(0.7666196, 0.76661956, 0.76661956, 1)
volumetric_fog_emission_energy = 24.8
adjustment_enabled = true
adjustment_brightness = 0.72
adjustment_contrast = 1.14
adjustment_saturation = 0.86

[sub_resource type="NavigationMesh" id="NavigationMesh_5v4k3"]
vertices = PackedVector3Array(-2.9107437, 0.45000002, -23.086311, -0.6607437, 0.45000002, -23.336311, -0.6607437, 0.45000002, -33.83631, -21.410744, 0.45000002, -33.83631, -21.410744, 0.45000002, -21.086311, -2.9107437, 0.45000002, -21.086311, 2.5892563, 0.45000002, -23.336311, 2.8392563, 0.45000002, -21.336311, 8.089256, 0.45000002, -21.336311, 8.339256, 0.45000002, -23.336311, 10.339256, 0.45000002, -33.83631, 10.339256, 0.45000002, -23.336311, 13.839256, 0.45000002, -23.086311, 13.839256, 0.45000002, -18.836311, 21.339256, 0.45000002, -18.836311, 21.339256, 0.45000002, -33.83631, -1.9107437, 4.45, -22.336311, -1.9107437, 4.45, -17.586311, 1.8392563, 4.45, -17.586311, 1.8392563, 4.45, -22.336311, 9.089256, 4.45, -22.336311, 9.089256, 4.45, -17.586311, 12.839256, 4.45, -17.586311, 12.839256, 4.45, -22.336311, -1.6607437, 0.45000002, -22.086311, -1.6607437, 0.45000002, -17.836311, 1.5892563, 0.45000002, -17.836311, 1.5892563, 0.45000002, -22.086311, 9.339256, 0.45000002, -22.086311, 9.339256, 0.45000002, -17.836311, 12.589256, 0.45000002, -17.836311, 12.589256, 0.45000002, -22.086311, 2.5892563, 0.45000002, -3.3363113, 2.8392563, 0.45000002, -2.8363113, 3.0892563, 0.45000002, -2.8363113, 8.089256, 0.45000002, -16.836311, 2.8392563, 0.45000002, -16.836311, -0.9107437, 0.45000002, -16.586311, -0.9107437, 0.45000002, -3.3363113, 8.589256, 0.45000002, -16.586311, -21.410744, 0.45000002, -6.5863113, -18.410744, 0.45000002, -6.5863113, -18.160744, 0.45000002, -11.086311, -13.160744, 0.45000002, -11.086311, -2.9107437, 0.45000002, -17.086311, 13.589256, 0.45000002, -16.586311, 21.339256, 0.45000002, -2.8363113, -12.660744, 0.45000002, -4.8363113, -2.9107437, 0.45000002, -2.8363113, -2.6607437, 0.45000002, -3.3363113, -12.660744, 0.45000002, -10.836311, -2.6607437, 0.45000002, -16.586311, -17.410744, 4.45, -10.086311, -17.410744, 4.45, -5.3363113, -13.660744, 4.45, -5.3363113, -13.660744, 4.45, -10.086311, -17.160744, 0.45000002, -9.836311, -17.160744, 0.45000002, -5.5863113, -13.910744, 0.45000002, -5.5863113, -13.910744, 0.45000002, -9.836311, -18.160744, 0.45000002, -4.3363113, -21.410744, 0.45000002, 15.663689, -12.410744, 0.45000002, 15.663689, -12.160744, 0.45000002, 13.413689, -12.910744, 0.45000002, -4.3363113, -2.9107437, 0.45000002, 2.9136887, -7.1607437, 0.45000002, 13.413689, 2.5892563, 0.45000002, 3.4136887, 15.089256, 0.45000002, 13.413689, 15.339256, 0.45000002, 15.663689, 21.339256, 0.45000002, 15.663689, 10.089256, 0.45000002, 13.413689, -1.9107437, 4.45, -2.3363113, -1.9107437, 4.45, 2.4136887, 1.8392563, 4.45, 2.4136887, 1.8392563, 4.45, -2.3363113, -1.6607437, 0.45000002, -2.0863113, -1.6607437, 0.45000002, 2.1636887, 1.5892563, 0.45000002, 2.1636887, 1.5892563, 0.45000002, -2.0863113, -2.6607437, 0.45000002, 3.4136887, -6.6607437, 0.45000002, 13.663689, -6.6607437, 0.45000002, 15.413689, 9.589256, 0.45000002, 15.413689, 9.589256, 0.45000002, 13.663689, -11.410744, 4.45, 14.413689, -11.410744, 4.45, 19.163689, -7.6607437, 4.45, 19.163689, -7.6607437, 4.45, 14.413689, 10.589256, 4.45, 14.413689, 10.589256, 4.45, 19.163689, 14.339256, 4.45, 19.163689, 14.339256, 4.45, 14.413689, -11.160744, 0.45000002, 14.663689, -11.160744, 0.45000002, 18.913689, -7.9107437, 0.45000002, 18.913689, -7.9107437, 0.45000002, 14.663689, 10.839256, 0.45000002, 14.663689, 10.839256, 0.45000002, 18.913689, 14.089256, 0.45000002, 18.913689, 14.089256, 0.45000002, 14.663689, -6.6607437, 0.45000002, 18.163689, 9.589256, 0.45000002, 18.163689, -12.410744, 0.45000002, 19.913689, -10.910744, 0.45000002, 33.91369, -10.660744, 0.45000002, 20.163689, -21.410744, 0.45000002, 33.91369, 15.339256, 0.45000002, 19.913689, 11.339256, 0.45000002, 20.163689, 11.089256, 0.45000002, 33.91369, 21.339256, 0.45000002, 33.91369, 9.589256, 0.45000002, 19.913689, -6.6607437, 0.45000002, 19.913689, -8.410744, 0.45000002, 20.163689, -8.160744, 0.45000002, 33.91369)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(0, 5, 4), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(9, 6, 10), PackedInt32Array(10, 6, 2), PackedInt32Array(10, 11, 9), PackedInt32Array(6, 1, 2), PackedInt32Array(14, 13, 12), PackedInt32Array(12, 11, 10), PackedInt32Array(10, 15, 12), PackedInt32Array(12, 15, 14), PackedInt32Array(19, 18, 16), PackedInt32Array(16, 18, 17), PackedInt32Array(23, 22, 20), PackedInt32Array(20, 22, 21), PackedInt32Array(27, 26, 24), PackedInt32Array(24, 26, 25), PackedInt32Array(31, 30, 28), PackedInt32Array(28, 30, 29), PackedInt32Array(34, 33, 32), PackedInt32Array(36, 7, 35), PackedInt32Array(35, 7, 8), PackedInt32Array(32, 38, 37), PackedInt32Array(35, 39, 36), PackedInt32Array(36, 39, 37), PackedInt32Array(37, 39, 32), PackedInt32Array(32, 39, 34), PackedInt32Array(41, 40, 42), PackedInt32Array(42, 40, 4), PackedInt32Array(42, 4, 43), PackedInt32Array(43, 4, 44), PackedInt32Array(44, 4, 5), PackedInt32Array(13, 14, 45), PackedInt32Array(45, 14, 46), PackedInt32Array(39, 45, 34), PackedInt32Array(34, 45, 46), PackedInt32Array(49, 48, 47), PackedInt32Array(51, 50, 44), PackedInt32Array(44, 50, 43), PackedInt32Array(49, 47, 38), PackedInt32Array(38, 47, 50), PackedInt32Array(38, 50, 51), PackedInt32Array(38, 51, 37), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53), PackedInt32Array(59, 58, 56), PackedInt32Array(56, 58, 57), PackedInt32Array(40, 41, 60), PackedInt32Array(62, 61, 63), PackedInt32Array(63, 61, 60), PackedInt32Array(60, 61, 40), PackedInt32Array(64, 47, 48), PackedInt32Array(48, 65, 64), PackedInt32Array(64, 65, 60), PackedInt32Array(60, 65, 66), PackedInt32Array(60, 66, 63), PackedInt32Array(67, 33, 34), PackedInt32Array(70, 69, 68), PackedInt32Array(68, 71, 67), PackedInt32Array(67, 34, 68), PackedInt32Array(68, 34, 70), PackedInt32Array(70, 34, 46), PackedInt32Array(75, 74, 72), PackedInt32Array(72, 74, 73), PackedInt32Array(79, 78, 76), PackedInt32Array(76, 78, 77), PackedInt32Array(81, 66, 80), PackedInt32Array(80, 66, 65), PackedInt32Array(81, 80, 82), PackedInt32Array(82, 80, 67), PackedInt32Array(82, 67, 84), PackedInt32Array(82, 84, 83), PackedInt32Array(67, 71, 84), PackedInt32Array(88, 87, 85), PackedInt32Array(85, 87, 86), PackedInt32Array(92, 91, 89), PackedInt32Array(89, 91, 90), PackedInt32Array(96, 95, 93), PackedInt32Array(93, 95, 94), PackedInt32Array(100, 99, 97), PackedInt32Array(97, 99, 98), PackedInt32Array(82, 83, 101), PackedInt32Array(101, 83, 102), PackedInt32Array(61, 62, 103), PackedInt32Array(103, 105, 104), PackedInt32Array(104, 106, 103), PackedInt32Array(103, 106, 61), PackedInt32Array(107, 69, 70), PackedInt32Array(109, 108, 107), PackedInt32Array(109, 107, 110), PackedInt32Array(110, 107, 70), PackedInt32Array(108, 109, 111), PackedInt32Array(111, 109, 112), PackedInt32Array(112, 109, 113), PackedInt32Array(113, 109, 114), PackedInt32Array(112, 101, 111), PackedInt32Array(111, 101, 102), PackedInt32Array(105, 113, 104), PackedInt32Array(104, 113, 114)]
geometry_parsed_geometry_type = 1

[sub_resource type="BoxMesh" id="BoxMesh_5v4k3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_m1chm"]

[node name="Director" type="Node3D" node_paths=PackedStringArray("playerbody", "spawn_points")]
script = ExtResource("1_m1chm")
playerbody = NodePath("BasePlayer/PlayerBody")
max_waves = null
enemy_scene = ExtResource("4_m1chm")
spawn_points = [NodePath("EnemySpawnPoint"), NodePath("EnemySpawnPoint2"), NodePath("EnemySpawnPoint3")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_41slu")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.47679272, 0.03428252, -0.878347, 0.45757928, -0.86285657, 0.21470976, -0.75052667, -0.5042854, -0.42709053, 0, 7, 0)
shadow_enabled = true
shadow_blur = 0.58

[node name="BasePlayer" parent="." instance=ExtResource("1_txh0p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.839859, 1, 0)

[node name="AmmoLabel" parent="BasePlayer/PlayerBody/PlayerUI" index="1"]
metadata/_edit_use_anchors_ = true

[node name="Reticle" parent="BasePlayer/PlayerBody/PlayerUI" index="2"]
metadata/_edit_use_anchors_ = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_5v4k3")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(6.1720405, 0, 0, 0, 1, 0, 0, 0, 11.92233, 0, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
material_override = ExtResource("1_a4krk")
mesh = SubResource("BoxMesh_5v4k3")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
shape = SubResource("BoxShape3D_m1chm")

[node name="StaticBody3D2" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(0.6302746, 0, 0, 0, 40.12164, 0, 0, 0, 0.9468797, 0, 1.9980645, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D2"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
material_override = ExtResource("1_a4krk")
mesh = SubResource("BoxMesh_5v4k3")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D2"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
shape = SubResource("BoxShape3D_m1chm")

[node name="StaticBody3D3" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(0.6302746, 0, 0, 0, 40.12164, 0, 0, 0, 0.9468797, 0, 1.9980645, -20)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D3"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
material_override = ExtResource("1_a4krk")
mesh = SubResource("BoxMesh_5v4k3")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D3"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
shape = SubResource("BoxShape3D_m1chm")

[node name="StaticBody3D4" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(0.6302746, 0, 0, 0, 40.12164, 0, 0, 0, 0.9468797, 11, 1.9980645, -20)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D4"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
material_override = ExtResource("1_a4krk")
mesh = SubResource("BoxMesh_5v4k3")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D4"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
shape = SubResource("BoxShape3D_m1chm")

[node name="StaticBody3D5" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(0.6302746, 0, 0, 0, 40.12164, 0, 0, 0, 0.9468797, -9.532433, 1.9980645, 16.804447)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D5"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
material_override = ExtResource("1_a4krk")
mesh = SubResource("BoxMesh_5v4k3")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D5"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
shape = SubResource("BoxShape3D_m1chm")

[node name="StaticBody3D6" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(0.6302746, 0, 0, 0, 40.12164, 0, 0, 0, 0.9468797, 12.444868, 1.9980645, 16.804447)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D6"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
material_override = ExtResource("1_a4krk")
mesh = SubResource("BoxMesh_5v4k3")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D6"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
shape = SubResource("BoxShape3D_m1chm")

[node name="StaticBody3D7" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(0.6302746, 0, 0, 0, 40.12164, 0, 0, 0, 0.9468797, -15.595535, 1.9980645, -7.703556)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D7"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
material_override = ExtResource("1_a4krk")
mesh = SubResource("BoxMesh_5v4k3")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D7"]
transform = Transform3D(7.1, 0, 0, 0, 0.099999964, 0, 0, 0, 5.76, 0, 0, 0)
shape = SubResource("BoxShape3D_m1chm")

[node name="EnemySpawnPoint" parent="." instance=ExtResource("6_1lnse")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.323057, 5.1410513, -30.259537)

[node name="EnemySpawnPoint2" parent="." instance=ExtResource("6_1lnse")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.807789, 5.1410513, -31.890446)

[node name="EnemySpawnPoint3" parent="." instance=ExtResource("6_1lnse")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.8699398, 5.1410513, 30.139162)

[editable path="BasePlayer"]
